{{!-- This template will render all transactions for a logged in user. Data available is {{userTransactions}} and
{{userObj}} for dressing the dynamic fields. There will be buttons that redirect to many other routes, in no particular
order they are:
- create transaction : /transaction/create - link to new page
- update transaction : /transaction/update/:transaction_id link to new page
- delete transaction : /transaction/delete/:transaction_id not sure
- update balance : /profile/balance link to new page
- graph view : /graphs link to new page
they should be <a href="/transaction/create"></a> tags as they are redirects which automatically use get requests --}}
<header>
    <nav role="navigation">
      <div class="nav-wrapper teal darken-2">
        <img src="/images/seethroughbudgie.png" alt="Outline of budgie with 100 dollar note superimposed over it"
                style="width:60px;height:60px;">
        <a id="logo-container" href="/account/update/{{account.id}}" class="brand-logo">{{uppercase account.name}} <span class="hide-on-med-and-down">BALANCE</span>${{account.balance}}</a>
        <ul class="right hide-on-med-and-down">
            <li>
                <a href="/profile">PROFILE</a>
            </li>
            <li>
                <a href="/graph/timeline/{{account.name}}">TIMELINE</a>
            </li>
            <li>
                <a href="/user/logout">LOGOUT</a>
            </li>
        </ul>
  
        <ul id="nav-mobile" class="sidenav sec_text_color">
            <li>
                <a href="/profile">PROFILE</a>
            </li>
            <li>
                <a href="/graph/timeline/{{account.name}}">TIMELINE</a>
            </li>
            <li>
                <a href="/user/logout">LOGOUT</a>
            </li>
        </ul>
        <a href="#" data-target="nav-mobile" class="sidenav-trigger right"><i class="material-icons">menu</i></a>
      </div>
    </nav>
</header>


<main>
    <br>
    {{#if transactions}}
        <div class="wide-container">
            <table class="stripped highlight centered responsive-table">
                <thead>
                    <th>NAME</th>
                    <th>ACCOUNT</th>
                    <th>STARTED</th>
                    <th>FREQUENCY</th>
                    <th>AMOUNT</th>
                    <th>DAYS LEFT</th>
                    <th>UPDATE</th>
                    <th>DELETE</th>
                </thead>
                <tbody>
                    {{#each transactions as |transaction|}}
                        {{>transaction-table-row}}
                    {{/each}}
                </tbody>
            </table>
        {{else}}
            <div class="row">
                <h4 class="center-align">YOU HAVE NO TRANSACTIONS YET</h4>
            </div>
            <div class="row center">
                <a href="/transaction/{{transaction.id}}" class="btn-large waves-effect waves-light"><i
                            class="material-icons left">add</i>New transaction</a>
            </div>
        </div>
    {{/if}}
    <br>
    <br>
    <br>
</main>


{{!-- <script src="/js/logout.js"></script> --}}